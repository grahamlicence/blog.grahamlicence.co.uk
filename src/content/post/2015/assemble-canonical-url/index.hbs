---
title: "Grunt Assemble Canonical Urls"
posted: 2015-12-01
post: true
excerpt: "Canonical urls helper for assemble."
layout: post.hbs
---

Here's a simple handlebars helper to get canonical urls onto your pages. 

HTML:

`<link rel="canonical" href="\{{canonical dirname basename ext}}">`

helper.js

    /**
       * {{canonical}}
       * Builds a canonical url, stripping out dist dir and index.html
       * @param  {String} dirname file firectory location
       * @param  {String} basename filename
       * @param  {String} ext file extension
       * @return {String} formattedUrl Canonical url
       */
    Handlebars.registerHelper('canonical', function(dirname, basename, ext) {
        var base = 'http://blog.grahamlicence.co.uk/',
            url = dirname + '/' + basename + ext,
            path = url.replace('dist/', '').replace('index.html', ''),
            formattedUrl = base + path;

        return formattedUrl;
    });
